substreams_yaml_path: ./substreams.yaml
protocol_type_names:
  - "balancer_v3_pool"
adapter_contract: "BalancerV3SwapAdapter"
adapter_build_signature: "constructor(address,address,address)"
adapter_build_args: "0xbA1333333333a1BA1108E8412f11850A5C319bA9,0x136f1EFcC3f8f88516B9E94110D56FDBfB1778d1,0x000000000022D473030F116dDEE9F6B43aC78BA3"
skip_balance_check: true
initialized_accounts:
  - "0xbA1333333333a1BA1108E8412f11850A5C319bA9"

tests:
  - name: test_stable_pool_creation
    start_block: 21374757
    stop_block: 21374857 
    expected_components:
      - id: "0xc4ce391d82d164c166df9c8336ddf84206b2f812"
        tokens:
          - "0x0FE906e030a44eF24CA8c7dC7B7c53A6C4F00ce9"
          - "0x775F661b0bD1739349b9A2A3EF60be277c5d2D29"
        static_attributes:
          fee: "0x5af3107a4000"
          pool_type: "0x537461626c65506f6f6c466163746f7279"
          bpt: "0xc4ce391d82d164c166df9c8336ddf84206b2f812"
          manual_updates: "0x01"

        skip_simulation: true
        creation_tx: "0xecfe638ea155e78ca2698bea0bee5f86c2f77abe3e9dc93ed19ab6e674165b95"

  - name: test_weighted_pool_creation
    start_block: 21336938
    stop_block: 21336939 
    expected_components:
      - id: "0x527d0E14acc53FB040DeBeae1cAb973D23FB3568"
        tokens:
          - "0xba100000625a3754423978a60c9317c58a424e3D"
          - "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"
        static_attributes:
          normalized_weights: "0x5b22307830623161326263326563353030303030222c22307830326336386166306262313430303030225d"
          manual_updates: "0x01"
          pool_type: "0x5765696768746564506f6f6c466163746f7279"
          fee: "0x2386f26fc10000"

        skip_simulation: true
        creation_tx: "0x44d82009c125f39bd2bbd1f723e7284e4226d5d752a66b18536e5d92c37b0c82"