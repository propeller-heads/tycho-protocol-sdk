# Name of the substreams config file in your substreams module. Usually "./substreams.yaml"
substreams_yaml_path: ./substreams.yaml

# Name of the adapter contract, usually: ProtocolSwapAdapter
adapter_contract: "EtherfiAdapter"

# Constructor signature of the Adapter contract
adapter_build_signature: "constructor(address)"

# A comma separated list of args to be passed to the constructor of the Adapter contract
adapter_build_args: "0xCd5fE23C85820F7B72D0926FC9b05b43E359b7ee"

# Whether or not the testing script should skip checking balances of the protocol components.
skip_balance_check: false

# A list of accounts that need to be indexed to run the tests properly.
# Usually used when there is a global component required by all pools and created before the tested range of blocks.
initialized_accounts:
  - "0x308861A430be4cce5502d0A12724771Fc6DaF216" # Liquidity pool component for initialization

# A list of protocol types names created by your Substreams module.
protocol_type_names:
  - "etherfi_liquidity_pool"
  - "etherfi_weeth_pool"

# A list of tests.
tests:
  # Test for Etherfi Liquidity Pool creation
  - name: test_liquidity_pool_creation
    # Indexed block range
    start_block: 17664317
    stop_block: 17664350
    expected_components:
      - id: "0x308861A430be4cce5502d0A12724771Fc6DaF216" # Liquidity Pool Address
        tokens:
          - "0x35fA164735182de50811E8e2E824cFb9B6118ac2" # eETH
          - "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE" # ETH
        creation_tx: "0x491b823bc15ced4c54f0ed5a235d39e478f8aae3ad02eb553924b40ad9859e10"
        skip_simulation: false

  # Test for WeETH pool creation
  - name: test_weeth_pool_creation
    start_block: 17664317
    stop_block: 17664350
    expected_components:
      - id: "0xCd5fE23C85820F7B72D0926FC9b05b43E359b7ee" # WeETH Address
        tokens:
          - "0x35fA164735182de50811E8e2E824cFb9B6118ac2" # eETH
          - "0xCd5fE23C85820F7B72D0926FC9b05b43E359b7ee" # WeETH
        creation_tx: "0xa034bdf7ec3b407125fcfbb786d908b0bcfd9976f2fbaf489776ba58b9db61ac"
        skip_simulation: false