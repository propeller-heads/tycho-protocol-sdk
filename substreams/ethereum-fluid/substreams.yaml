networks:
  mainnet:
    initialBlock:
      map_dex_deployed: 19239106
    params:
      map_dex_deployed: liquidity_contract=0x52aa899454998be5b000ad077a46bbe360f4e497&factory_address=0x91716c4eda1fb55e84bf8b4c7085f84285c19085&resolvers[0][0]=22487434&resolvers[0][1]=0xc93876c0eed99645dd53937b25433e311881a27c&resolvers[1][0]=0&resolvers[1][1]=0xb387f9c2092cf7c4943f97842887ebff7ae96eb3&tvl_query_frequency=300&tvl_query_start_block=24016914
      map_protocol_changes: liquidity_contract=0x52aa899454998be5b000ad077a46bbe360f4e497&factory_address=0x91716c4eda1fb55e84bf8b4c7085f84285c19085&resolvers[0][0]=22487434&resolvers[0][1]=0xc93876c0eed99645dd53937b25433e311881a27c&resolvers[1][0]=0&resolvers[1][1]=0xb387f9c2092cf7c4943f97842887ebff7ae96eb3&tvl_query_frequency=300&tvl_query_start_block=24016914
      map_initialized_components: dexes[0]=0x667701e51b4d1ca244f17c78f7ab8744b4c99f9b&dexes[1]=0x3c0441b42195f4ad6aa9a0978e06096ea616cda7&dexes[2]=0xc800b0e15c40a1ff0539218100c86f4c1bac8d9c&dexes[3]=0x86f874212335af27c41cdb855c2255543d1499ce&dexes[4]=0x6d83f60eeac0e50a1250760151e81db2a278e03a&dexes[5]=0x276084527b801e00db8e4410504f9baf93f72c67&dexes[6]=0x836951eb21f3df98273517b7249dceff270d34bf&dexes[7]=0x085b07a30381f3cc5a4250e10e4379d465b770ac&dexes[8]=0x25f0a3b25cbc0ca0417770f686209628323ff901&dexes[9]=0x0b1a513ee24972daef112bc777a5610d4325c9e7&dexes[10]=0x2886a01a0645390872a9eb99dae1283664b0c524&dexes[11]=0xde632c3a214d5f14c1d8ddf0b92f8bcd188fee45&dexes[12]=0x080574d224e960c272e005aa03efbe793f317640&dexes[13]=0x8710039d5de6840ede452a85672b32270a709ae2&dexes[14]=0x1d3e52a11b98ed2aab7eb0bfe1cbb6525233204d&deploy_block=21596670
binaries:
  default:
    file: ../target/wasm32-unknown-unknown/release/ethereum_fluid_v1.wasm
    type: wasm/rust-v1
modules:
  - name: map_dex_deployed
    kind: map
    inputs:
      - params: string
      - source: sf.ethereum.type.v2.Block
    output:
      type: proto:tycho.evm.v1.BlockTransactionProtocolComponents

  - name: store_contract_addresses
    kind: store
    inputs:
      - map: map_dex_deployed
    updatePolicy: set
    valueType: string

  - name: store_components
    kind: store
    inputs:
      - map: map_dex_deployed
    updatePolicy: set
    valueType: bytes

  - name: map_initialized_components
    kind: map
    inputs:
      - params: string
      - source: sf.ethereum.type.v2.Block
      - store: store_components
    output:
      type: proto:tycho.evm.v1.BlockTransactionProtocolComponents

  - name: store_initialized_components
    kind: store
    inputs:
      - map: map_initialized_components
    updatePolicy: set
    valueType: int64

  - name: map_protocol_changes
    kind: map
    inputs:
      - params: string
      - source: sf.ethereum.type.v2.Block
      - map: map_initialized_components
      - store: store_components
      - store: store_initialized_components
      - store: store_contract_addresses
    output:
      type: proto:tycho.evm.v1.BlockChanges
network: mainnet
package:
  name: ethereum_fluid_v1
  version: v0.2.1
protobuf:
  files:
    - tycho/evm/v1/vm.proto
    - tycho/evm/v1/common.proto
    - tycho/evm/v1/utils.proto
  importPaths:
    - ../../proto
specVersion: v0.1.0
