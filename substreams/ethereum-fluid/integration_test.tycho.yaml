# Name of the substreams config file in your substreams module. Usually "./substreams.yaml"
substreams_yaml_path: ./substreams.yaml
# Name of the adapter contract, usually: ProtocolSwapAdapter"
adapter_contract: "FluidAdapter"
# Constructor signature of the Adapter contract"
adapter_build_signature: "constructor(address)"
# A comma separated list of args to be passed to the contructor of the Adapter contract"
adapter_build_args: "0xb387f9C2092cF7c4943F97842887eBff7AE96EB3"
# Vault like structure
skip_balance_check: true
# A list of accounts that need to be indexed to run the tests properly.
# Usually used when there is a global component required by all pools and created before the tested range of blocks. For example a factory or a vault.
# Please note that this component needs to be indexed by your substreams module, this feature is only for testing purpose.
# Also please always add a reason why this account is needed for your tests.
# This will be applied to each test.
initialized_accounts:
  - "0x52Aa899454998Be5b000Ad077a46Bbe360F4e497" # Liquidity Proxy
  - "0xa57d7cef617271f4cea4f665d33ebcfcba4929f6" # Liquidity Dummy Implementation
  - "0xb387f9C2092cF7c4943F97842887eBff7AE96EB3" # DexReservesResolver
  - "0xF047ab4c75cebf0eB9ed34Ae2c186f3611aEAfa6" # Zircuit Pool
# A list of protocol types names created by your Substreams module.
protocol_type_names:
  - "fluid_dex_pool"

# A list of tests.
tests:
  # Name of the test
  - name: test_pool_creation
    # Indexed block range
    start_block: 22101210
    stop_block: 22101220
    # A list of expected component indexed in the block range. Each component must match perfectly the `ProtocolComponent` indexed by your subtreams module.
    expected_components:
      - id: "0x50facbcfbf9352523f82c67832e6d3d7ce731d4c"
        tokens:
          - "0x4956b52aE2fF65D74CA2d61207523288e4528f96"
          - "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"
        static_attributes:
          dex_id: "28"
          dex_address: "0x50facbcfbf9352523f82c67832e6d3d7ce731d4c"
          supply_token_0_slot: "0x8cdd48d57d7a0500306ba51419496ed1d6e620f8b1881423bc44ba7d8b0d7229"
          borrow_token_0_slot: "0xa5e702f311f8cb9cbd816fb0a973daa32f23963ae12fbd0c51ea7bd47db013be"
          supply_token_1_slot: "0x2b5336c9e0533f5ab6fc9b25539c1c9d4d35b30096577f404da3fccedcb22895"
          borrow_token_1_slot: "0x3450d9912503566f31fb7afbc6e2472a493e6f8d1c92c6b4c71664482b90ec18"
          exchange_price_token_0_slot: "0x3d48a0f7ec4bc62511be98206f2f4960f610e558f2ba847164812fc6cfe4bfe5"
          exchange_price_token_1_slot: "0xa8e1248eddf82e10c0adc6c737b6d8da17674abf51801ea5a4549f41c2dfdf21"
        creation_tx: "0xe595a12c86bf056248db383e1689bd41754fffb7636a8d5ea5d96b48a323cd74"

