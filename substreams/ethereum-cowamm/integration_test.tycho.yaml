substreams_yaml_path: ./substreams.yaml
protocol_system: "vm:cowamm"
adapter_contract: "CowAMMSwapAdapter"
adapter_build_signature: "constructor(address)"
adapter_build_args: "0xf76c421bAb7df8548604E60deCCcE50477C10462"
skip_balance_check: false
initialized_accounts:
  - "0xf76c421bAb7df8548604E60deCCcE50477C10462" # factory address
  - "0x9bd702e05b9c97e4a4a3e47df1e0fe7a0c26d2f1"
  - "0xfec04c31b6099ce76c4c5d6d754a34141884fd91"
protocol_type_names:
  - "cowamm_pool"
tests:
  - name: test_pool_creation
    start_block: 20479340
    stop_block:  21774745
    expected_components:
      - id: "0xbB25d22123FE3c524D0b0E823953d2f3EcE0a36A"
        tokens:
          - "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"
          - "0x427A03Fb96D9A94A6727fbcfbBA143444090dd64" 
          - "0xbB25d22123FE3c524D0b0E823953d2f3EcE0a36A"
        static_attributes: 
           token_a: "0x427A03Fb96D9A94A6727fbcfbBA143444090dd64" 
           token_b: "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"
           lp_token: "0xbB25d22123FE3c524D0b0E823953d2f3EcE0a36A"
           weight_a: "0x6f05b59d3b200000" #80
           weight_b: "0x1bc16d674ec80000" #20
           fee: "0x0"
        creation_tx: "0x621ae66d5d22b52f52620d552ec2723e4c34260e65fe58c6239edc7727a55a0a"
        skip_simulation: false
        # Execution happens differently and is in a separate repo because the order needs to be posted to the orderbook 
        # via cow protocol
        skip_execution: true 
      - id: "0x9bd702e05b9c97e4a4a3e47df1e0fe7a0c26d2f1"
        tokens:
          - "0xdef1ca1fb7fbcdc777520aa7f396b4e015f497ab"
          - "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0" 
          - "0x9bd702e05b9c97e4a4a3e47df1e0fe7a0c26d2f1"
        static_attributes: 
           token_a: "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0" 
           token_b: "0xdef1ca1fb7fbcdc777520aa7f396b4e015f497ab"
           lp_token: "0x9bd702e05b9c97e4a4a3e47df1e0fe7a0c26d2f1"
           weight_a: "0x0de0b6b3a7640000"
           weight_b: "0x0de0b6b3a7640000"
           fee: "0x0"
        creation_tx: "0xbedc6a4b23aadc836f76001c0feac79c3603719269e917e53afae22debaddb12"
        skip_simulation: false
        # Execution happens differently and is in a separate repo because the order needs to be posted to the orderbook 
        # via cow protocol
        skip_execution: true 
      - id: "0xfec04c31b6099ce76c4c5d6d754a34141884fd91"
        tokens:
          - "0x6810e776880c02933d47db1b9fc05908e5386b96"
          - "0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0"
          - "0xfec04c31b6099ce76c4c5d6d754a34141884fd91"
        static_attributes: 
          token_a:  "0x6810e776880c02933d47db1b9fc05908e5386b96"
          token_b:  "0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0"
          lp_token: "0xfec04c31b6099ce76c4c5d6d754a34141884fd91"
          weight_b: "0x0de0b6b3a7640000"
          weight_a: "0x0de0b6b3a7640000"
          fee:      "0x00"
        creation_tx: "0xdf6f141bdd44ef389c9418992ab854567192e25eec7f2bfe4f2057b4e3e9a4de"
        skip_simulation: false 
        # Execution happens differently and is in a separate repo because the order needs to be posted to the orderbook 
        # via cow protocol
        skip_execution: true