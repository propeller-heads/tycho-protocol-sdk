substreams_yaml_path: ./substreams.yaml
protocol_system: "vm:cowamm"
adapter_contract: "CowAMMSwapAdapter"
adapter_build_signature: "constructor(address)"
adapter_build_args: "0xf76c421bAb7df8548604E60deCCcE50477C10462"
skip_balance_check: false
initialized_accounts:
  - "0xf76c421bAb7df8548604E60deCCcE50477C10462" # factory address
protocol_type_names:
  - "cowamm"
tests:
  - name: test_pool_creation 
    start_block: 20522030
    stop_block: 20532030
    expected_components:
      - id: "0x9bd702e05b9c97e4a4a3e47df1e0fe7a0c26d2f1"
        tokens:
          - "0xdef1ca1fb7fbcdc777520aa7f396b4e015f497ab"
          - "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0" 
          - "0x9bd702e05b9c97e4a4a3e47df1e0fe7a0c26d2f1"
        static_attributes: 
           token_a: "0xdef1ca1fb7fbcdc777520aa7f396b4e015f497ab"
           token_b: "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0" 
           lp_token: "0x9bd702e05b9c97e4a4a3e47df1e0fe7a0c26d2f1"
           weight_a: "0000000000000000000000000000000000000000000000000de0b6b3a7640000"
           weight_b: "0000000000000000000000000000000000000000000000000de0b6b3a7640000"
           fee: "0x0"
        creation_tx: "0xb36e241ec355da4888e9ae7a9b06570fdc90a37084ef31293ab00ed5c681397b"
        # Well you can't simulate a swap on cow pools directly because of the 99% swap fee
        skip_simulation: true 
 