
syntax = "proto3";

package cowamm;

message CowPool {
  bytes address = 1;
  bytes token_a = 2;
  bytes token_b = 3;
  bytes lp_token = 4;
  bytes weight_a = 5;
  bytes weight_b = 6;
  uint64 fee = 7;
  bytes created_tx_hash = 8;
} 

message CowPools {
  repeated CowPool pools = 1;
} 

// A struct describing a transaction.
message Transaction {
  // The transaction hash.
  bytes hash = 1;
  // The sender of the transaction.
  bytes from = 2;
  // The receiver of the transaction.
  bytes to = 3;
  // The transactions index within the block.
  // TODO: should this be uint32? to match the type from the native substream type?
  uint64 index = 4;
}

message CowPoolBind {
  // Address of the pool that the bind method was called on 
  bytes address = 1;
  //Token bound to the pool 
  bytes token = 2;
  //Weight of the token bound to the pool 
  bytes weight = 3;
  //Amount of the token bound to the pool
  bytes amount = 4;
  //tx that the bind happened
  Transaction tx = 5;
  //ordinal of the event the bind was recorded in the block
  uint64 ordinal = 6;
}

message CowPoolBinds {
   repeated CowPoolBind binds = 1;
}

message CowPoolCreation {
  bytes address = 1;
  bytes lp_token = 2;
  bytes created_tx_hash = 3;
}

message CowPoolCreations {
  repeated CowPoolCreation pools = 1;
}
